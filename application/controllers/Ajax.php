<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Ajax extends CI_Controller {

    private function __theme() { return $this->config->item('themes'); }
    
    function __construct()
    {
		parent::__construct();
		$this->load->model('ajax/AjaxMod');
    }

    function index()
    {
		if($_POST)
		{
		    $this->load->view($this->__theme().'function');
		    $fn = $_POST['fn'];
		    
		    $data = [];
		    if(function_exists($fn))
		    {
				$fn();
		    } else {
				$fn = "__".$fn;
				$this->AjaxMod->$fn();
		    }
		}
    }

}
